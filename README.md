# Level-Sensor
En este repositorio se encuentra la documentación, avances y pruebas para el proyecto de sensor de nivel para tanques.

## Contenidos
En la carpeta de [Level Sensor HTML](https://github.com/Miguel-Carreon/Level-Sensor/tree/main/Level%20Sensor%20HTML) están los archivos de HTML y CSS, estos se tienen que guardar en el mismo directorio para que el [index](https://github.com/Miguel-Carreon/Level-Sensor/blob/main/Level%20Sensor%20HTML/index.html) pueda acceder a la 
[hoja de estilos](https://github.com/Miguel-Carreon/Level-Sensor/blob/main/Level%20Sensor%20HTML/style.css).

En la carpeta de [level_prototipe_WiFi](https://github.com/Miguel-Carreon/Level-Sensor/tree/main/level_prototipe_WiFi) se encuentran dos archivos, uno de ellos es un header file llamada [arduino_secrets](https://github.com/Miguel-Carreon/Level-Sensor/blob/main/level_prototipe_WiFi/arduino_secrets.h), en esta es donde se tienen que insertar las credenciales WiFi para que el código pueda funcionar en la red en la que se encuentre conectado cada uno.
En el archivo donde está el [código de arduino](https://github.com/Miguel-Carreon/Level-Sensor/blob/main/level_prototipe_WiFi/level_prototipe_WiFi.ino) se puede cambiar la línea 112, es la encargada de invocar la función para que se haga la lectura del sensor. Esto en caso de no contar con el módulo HC-SR04, se puede utilizar un potenciómetro conectado a una entrada analógica del Arduino MKR, luego se puede crear una función en el mismo código para hacer la lectura analógica luego de eso almacenar el valor en una variable. Si se hace esto también tomen en cuenta de que se deberá cambiar la línea 118 del mismo [código]( https://github.com/Miguel-Carreon/Level-Sensor/blob/main/level_prototipe_WiFi/level_prototipe_WiFi.ino), para hacer un [client.print()](https://www.arduino.cc/en/Reference/ClientPrint) de la variable en donde se haya almacenado el nuevo valor de medición simulado. No es necesario borrar la función original que hace la medición de distancia, en todo caso se puede comentar. Cualquier otro cambio en lo que se despliega en la API, se puede hacer editando la sección de HTML en este mismo código, también se puede utilizar el [mockup]( https://github.com/Miguel-Carreon/Level-Sensor/tree/main/Level%20Sensor%20HTML) para realizar cambios rápidos antes de modificar el .ino, para ver como quedaría el diseño.

Los otros dos archivos son fotos en donde se muestra un boceto del producto físicamente.

## Importante
No es posible insertar los cambios hechos en el [HTML]( https://github.com/Miguel-Carreon/Level-Sensor/blob/main/Level%20Sensor%20HTML/index.html) al [.ino]( https://github.com/Miguel-Carreon/Level-Sensor/blob/main/level_prototipe_WiFi/level_prototipe_WiFi.ino) directamente, a pesar de que los dos son HTML, se tiene que hace una conversión a C++ para que sea compatible con Arduino, además de esto cada línea nueva que se quiera enviar por HTML se tiene que poner dentro de comillas dobles (“”) en un [client.println()](https://www.arduino.cc/en/Reference/ClientPrintln). Otra cosa es que se puede utilizar un formato CSS para estilizar el HTML desde Arduino, pero no se puede utilizar clases y referirlas a un archivo separado como en el caso del [mockup]( https://github.com/Miguel-Carreon/Level-Sensor/tree/main/Level%20Sensor%20HTML), estas se ponen de la misma manera, separadas por punto y coma (;) pero todas en la misma línea dentro del tag de apertura, un ejemplo de esto se ve en la línea 114 del [.ino]( https://github.com/Miguel-Carreon/Level-Sensor/blob/main/level_prototipe_WiFi/level_prototipe_WiFi.ino).
